<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
    <div class="d-flex flex-row" style="column-gap:50px" >
        <div id="items">
            <h1>
                Burger
            </h1>
            <p>Rs <span id="price">1200</span></p>
            <button id="mybtn" onclick="calculate(0)">Add to Cart</button>
        </div>
        <div id="items">
            <h1>
                Burger
            </h1>
            <p >Rs <span id="price">100</span></p>
            <button onclick="calculate(1)">Add to Cart</button>
        </div>
        <div>
            <h1>Total Count</h1>
            <p id="counter"></p>
        </div>
        <div>
            <h1>Total Price</h1>
            <p id="totalprice"></p>
            <button onclick="reset()" id="resetbtn">Reset</button>
        </div>
    </div>

    <div id="displaycart" class="mt-5">

    </div>
    
    <script>
        var resetbtn=document.getElementById("resetbtn");
        resetbtn.style.display="none";
        var count=document.getElementById("counter");
        var totalprice=document.getElementById("totalprice");
        var cart=document.getElementById("displaycart");
        var counter=0;
        var amount=0;

        var arraysum=0;

        var allitems=[]
        
        function calculate(id){
            resetbtn.style.display="block";
            var x = document.querySelectorAll("#items #price")[id];
            var price=x.innerText;
            allitems.push(price);
            fillcart()
          
            counter=counter+1;    
            amount=amount+(Number(price));
            
            count.innerText=counter;
            totalprice.innerText=amount;
        }

        function fillcart(){
            cart.innerHTML="";
            for(var i=0;i<allitems.length;i++){
                cart.innerHTML+=`<div id="cart">${allitems[i]}<button onclick="removecartitem(${i})">Remove</button></div>`
            }
            
        }
        function removecartitem(id){
            allitems.splice(id,1);
            // for(var i=0;i<allitems.length;i++){
            //     arraysum+=allitems[i];
            // }
            // console.log("sum",arraysum)
            let totalcash =0;
            allitems.forEach(element=>{
                totalcash += Number(element);
                console.log(typeof(totalcash))
            });
            console.log('total cash',totalcash)
            // console.log('new total',Number(newtotal))
            
            if(allitems.length!=0){
                count.innerText=allitems.length;
                totalprice.innerText=totalcash;
            }
            else{
                reset();
            }
            fillcart()
        }
        function reset(){
            counter=0;
            amount=0;
            count.innerText="";
            totalprice.innerText="";
            resetbtn.style.display="none";
        }
    </script>
   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
  </body>
</html>